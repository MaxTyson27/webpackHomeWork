(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(c){let a=(c-n)/o;a>1&&(a=1);let l=e(a);t(l),a<1&&requestAnimationFrame(r)}))};(e=>{const t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds"),r=setInterval((()=>{let e=(()=>{let e=(new Date("26 march 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();for(let t in e)e[t]<10&&(e[t]="0"+e[t]);e.timeRemaining>0?(t.textContent=e.hours,o.textContent=e.minutes,n.textContent=e.seconds):clearInterval(r)}),1)})(),(()=>{const e=document.querySelector("menu"),t=document.querySelector("main"),o=document.querySelector("main>a"),n=()=>{e.classList.toggle("active-menu")},r=e=>{const t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})};t.addEventListener("click",(e=>{e.target.closest("a")?(e.preventDefault(),r(o)):e.target.closest(".menu")&&n()})),e.addEventListener("click",(e=>{e.target.classList.contains("close-btn")?(e.preventDefault(),n()):e.target.matches("li a")&&(e.preventDefault(),n(),r(e.target))}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup"),n=o.querySelector(".popup-content");let r=document.documentElement.offsetWidth,c=(a=function(e){return 1-Math.sin(Math.acos(e))},function(e){return 1-a(1-e)});var a;t.forEach((t=>{t.addEventListener("click",(()=>{o.style.display="block",r>768&&e({duration:1e3,timing:c,draw(e){n.style.left=38*e+"%"}})}))})),o.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(o.style.display="none")}))})(),(()=>{const e=document.querySelectorAll('.calc-block>input[type="text"]');!function(){const t=[...document.querySelectorAll('input[type="text"]')],o=[...document.querySelectorAll('input[type="email"]')],n=[...document.querySelectorAll('input[type="tel"]')];e.forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^\d]/g,"")}))})),o.forEach((e=>{e.addEventListener("input",(function(){this.value=this.value.replace(/[^a-zA-z\d\@\-\.\!\~\*\']+/gi,"")}))})),n.forEach((e=>{e.addEventListener("input",(function(){this.value=this.value.replace(/[^\d\(\)\-\+]+/gi,"")}))})),t.splice(1,3),t.forEach((e=>{e.addEventListener("input",(function(){1==this.value.length&&(this.value=this.value.toUpperCase()),this.value=this.value.replace(/[^а-яёА-ЯЁ\-\ ]+/gi,"")}))}))}()})(),(()=>{const e=document.querySelectorAll(".service-tab"),t=document.querySelectorAll(".service-header-tab");document.querySelector(".service-header").addEventListener("click",(o=>{if(o.target.closest(".service-header-tab")){const n=o.target.closest(".service-header-tab");t.forEach(((t,o)=>{t===n?(t.classList.add("active"),e[o].classList.remove("d-none")):(t.classList.remove("active"),e[o].classList.add("d-none"))}))}}))})(),((e,t)=>{if(".portfolio-content"===e&&".portfolio-item"===t){const o=document.querySelector(e),n=document.querySelectorAll(t),r=2e3;let c,a,l=0,i=document.querySelector(".portfolio-dots");const s=()=>{for(let e=0;e<n.length;e++){const t=document.createElement("li");0===e?t.classList.add("dot","dot-active"):t.classList.add("dot"),i.appendChild(t),a=document.querySelectorAll(".dot")}},u=(e,t,o)=>{e[t].classList.remove(o)},d=(e,t,o)=>{e[t].classList.add(o)},m=()=>{u(n,l,"portfolio-item-active"),u(a,l,"dot-active"),l++,l>=n.length&&(l=0),d(n,l,"portfolio-item-active"),d(a,l,"dot-active")},p=(e=1500)=>{c=setInterval(m,e)},v=()=>{clearInterval(c)};o.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(u(n,l,"portfolio-item-active"),u(a,l,"dot-active"),e.target.matches("#arrow-right")?l++:e.target.matches("#arrow-left")?l--:e.target.classList.contains("dot")&&a.forEach(((t,o)=>{e.target===t&&(l=o)})),l>=n.length&&(l=0),l<0&&(l=n.length-1),d(n,l,"portfolio-item-active"),d(a,l,"dot-active"))})),o.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&v()}),!0),o.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&p(r)}),!0),s(),p(r)}})(".portfolio-content",".portfolio-item"),((t=100)=>{const o=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),c=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),l=document.getElementById("total");o.addEventListener("input",(o=>{o.target!==n&&o.target!==r&&o.target!==c&&o.target!==a||(()=>{const o=+n.options[n.selectedIndex].value,i=+r.value;let s=0,u=1,d=1;a.value&&a.value<5?d=2:a.value&&a.value<10&&(d=1.5),c.value>1&&(u+=+c.value/10),s=n.value&&r.value?t*o*i*u*d:0,e({duration:1e3,timing:e=>e,draw(e){l.textContent=Math.floor(e*s)}})})()}))})(100),(({formId:e=[],someElem:t=[]})=>{let o;const n=document.createElement("div"),r="Ошибка...";try{(e=>{e.forEach((e=>{document.getElementById(e).addEventListener("submit",(e=>{e.preventDefault(),o=e.target,(()=>{const e=o.querySelectorAll("input"),c=new FormData(o),a={};var l;n.textContent="Загрузка...",o.append(n),c.forEach(((e,t)=>{a[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?+t.textContent>0&&(a[e.id]=t.textContent):"input"===e.type&&(a[e.id]=t.value)})),(e=>{let t=!1,o=[];return e.forEach((e=>{"text"===e.getAttribute("type")?/[^а-яёА-ЯЁ]+/g.test(e.value)?o.push(!1):o.push(!0):"email"===e.getAttribute("type")?/[^a-zA-z\d\@\-\.\!\~\*\']+/g.test(e.value)||0===e.value.length?o.push(!1):o.push(!0):"tel"===e.getAttribute("type")&&(/[^\d\)\(\+)]+/g.test(e.value)?o.push(!1):o.push(!0))})),o.every((e=>!!e))&&(t=!0),t})(e)?(l=a,fetch("http://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{n.textContent="Спасибо, наш менеджер с вами свяжется!",setTimeout((()=>{n.textContent=""}),4e3),e.forEach((e=>{e.value=""}))})).catch((e=>{n.textContent=r})):(console.log("Данные не верны"),n.textContent=r)})()}))}))})(e)}catch(e){console.log(e.message)}})({formId:["form1","form2","form3"],someElem:[{type:"block",id:"total"}]})})();